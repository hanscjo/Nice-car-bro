<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tittel</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <div id="app"></div>
    
    <script>
        //model
        let eventCounter = 0;
        let roadCounter = -1;
        let coolness = 20;
        let intervals = [];

        let roadSrc = 'img/forest.jpeg';
        let roadImages = ['img/forest.jpeg', 'img/bridge.jpg', 'img/castle.jpg'];
        let dialogText = 'Du kjører i skogen...'
        let dialogTexts = ['Du kjører i skogen...', 'Du kjører over brua!', 'Du kjører inn på Karl Johans gate.'];

        let carPositionLeft = 50;
        let carPositionTop = 87;
        let carHeight = 100;

        let eventImgSrc = '';
        let currentEventId;
        let normalEventImages = ['img/events/pinne.png', 'img/events/spoiler.png', 'img/events/blueberry.png'];
        let friendEventImages = ['img/events/kompis1.png', 'img/events/kompis2.png', 'img/events/gammeldame.png'];
        let specialEventImages = ['img/events/kingCat.png'];
        let responseImages = ['img/responses/take.png', 'img/responses/leave.png', 'img/responses/wink.jpeg', 'img/responses/peace.png', 'img/responses/dab.png', 
                                'img/responses/kingWink.png', 'img/responses/kingPeace.jpeg', 'img/responses/kingDab.png'];


        let normalEvents = [{id: 0, description: 'Du fant en kul pinne...', coolnessForest: 10, coolnessBridge: 0, coolnessCastle: -10, type: "normal"},
        {id: 1, description: 'Du fant en sykt kul spoiler!', coolnessForest: -30, coolnessBridge: 20, coolnessCastle: 10, type: "normal"},
        {id: 2, description: 'Du fant noen blåbær til å lakkere bilen med...', coolnessForest: 20, coolnessBridge: 10, coolnessCastle: -30, type: "normal"},
        ];
        let friendEvents = [
        {id: 0, description: 'Du møter en kompis...', wave: -10, peaceSign: 30, dab: -50, type: "friend"},
        {id: 1, description: 'Du møter en kompis...', wave: 10, peaceSign: 20, dab: -30, type: "friend"},
        {id: 2, description: 'Du møter en sint gammel dame!', wave: -50, peaceSign: 0, dab: 0, type: "friend"}
        ];
        let specialEvents = [{id: 0, description: 'Kongefamilien står på slottet...', wave: 0, peaceSign: -10, dab: 50, type: "king"}]
        
        //view
        view();
        function view() { /*HTML*/ //<-- dersom du vil få innerhtml stringen til å se ut som HTML
            
            let width = document.body.clientWidth;
            let html = `
            <h1>Velkommen!</h1>
            <div id="roadBox">
                <img id="roadImg" height="660px" width="100%" src=${roadSrc}>
                <img id="eventImg" height="100px" src=${eventImgSrc}>
                <img id="carImg" src="img/carImage.png" height='${carHeight}px' style="top: ${carPositionTop}%; left: ${carPositionLeft}%">

            </div>

            <div id="dialogBox" width='100%'>${dialogText}</div>
            <br>
            ${coolness==100 ? '<h3>Du har coolest bil</h3><br/>' : ''}
            <p><b>Style</b></p>
            <canvas id="coolness" height="50px" width="${width}px"></canvas>
            `;

            document.getElementById("app").innerHTML = html;
            let canvas = document.getElementById("coolness");
            let context = canvas.getContext("2d");
            let percentageWidth = width * (coolness/100);
            //console.log(percentageWidth);

            context.fillStyle = "green";
            context.fillRect(0, 0, percentageWidth, 50);
            
            context.fillStyle = "red";
            context.fillRect(percentageWidth, 0, width-percentageWidth, 50);
        }

        //controller
        
        

    </script>
    <script src="controller.js"></script>
    <script src="car.js"></script>
    <script src="main.js" defer></script>
</body>    
</html>
